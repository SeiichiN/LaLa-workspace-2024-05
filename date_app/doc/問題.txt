日付に関する問題

date_app という Javaプロジェクトを作成する.
そこに、main というパッケージを作成する。
mainパッケージに Main と DateUtil という2つのクラスを作成する。

Mainクラスの仕様

(1) main()というstaticメソッドを作成する。
(2) DateUtilクラスのインスタンスを作成する。
(3) DateUtilインスタンスの inputDate()メソッドを実行し、その戻り値(文字列)を
適当な変数に代入する。
(4) その変数を DateUtilインスタンスの getDate()メソッドに渡し、戻り値として
LocalDate型の値を得る。(適当な変数に代入する)
(5) getDate()メソッドに渡した文字列が正しい日付でない場合、戻り値が null になる。
(6) その場合、(3)からの処理を繰り返す。
(7) 正しい日付の場合、その日付を表示する。


DateUtilクラス

inputDate()メソッド
引数：なし、戻り値：文字列型
内容：
  (1) 「西暦(4桁の数字) > 」と表示 --> 4桁の数字を入力する。(yearとする)
  (2) 4桁の数字でないなら、「4桁の数字を入力してください」と表示して、再度入力させるようにする。
  (3) 「月 > 」と表示 --> 1桁あるいは2桁の数字を入力する。(monthとする)
  (4) 1桁ないし2桁の数字でなければ、「1桁あるいは2桁の数字を入力してください」と表示して、再度入力させるようにする。
  (5) 「日 > 」と表示 --> 1桁あるいは2桁の数字を入力する。(dayとする)
  (6) (4)と同様のチェックをする。
  (7) 月で入力した文字が 仮に "3" なら、"03" という文字にする。"03"ならそのまま。
  (8) 日で入力した文字についても同様にする。
  (9) 入力された year,month,day を "/" で連結し、それを戻り値とする。


getDate()メソッド
引数：文字列 ("2024/06/15"のような文字列を想定)
戻り値：LocalDate型
内容：
  (1) DateTimeFormatterクラスの ofPattern()メソッドで 日付形式("yyyy/MM/dd")を指定する。
  (2) LocalDate.parse()メソッドの引数に 日付文字列と 日付パターンを組み込んだDateTimeFomatterインスタンスを指定して、LocalDateインスタンスを得る。
  (3) そのとき、"222/02/02", "2100/09/31", "2022/13/01"など、さまざまな日付を試してみる。おそらく DateTimeParseException がスローされる(発生する)ので、それを try〜catch〜で処理をする。
  (4) "2100/09/31" とすると、おそらく "2100/09/30" と自動で修正される。しかし、(1)で、".withResolverStyle(ResolverStyle.STRICT)" というメソッドを指定すると、"2100/09/31" ならエラーとして処理され、DateTimeParseExceptionがスローされるようになる。
  (5) (4)を指定すると、今度は、"2022/02/21" という形式だと不正な日付だと身なされるようになる。そこで、(1)の日付形式で "uuuu/MM/dd" と指定してやると、正しい日付だと処理されるようになる。
  (6) DateTimeParseException例外がスローされたら、"日付の入力が不正です"を表示して、null をリターンする。
  (7) 日付文字列が正しければ、その日付インスタンスをリターンする。


;; 修正時刻: Sun 2024/06/16 17:57:14
